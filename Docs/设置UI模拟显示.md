# 设置 UI 模拟显示（主 Tab + 子 Tab）

模拟 RimWorld 设置窗口的 **主 Tab 栏** + **子 Tab 栏** 两层结构，便于预览重构效果。

---

## 窗口整体（两层 Tab）

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│  Equal Milking (Equal Milking) 设置                                    [ 关闭 ]   │
├─────────────────────────────────────────────────────────────────────────────────┤
│  主 Tab 栏：                                                                     │
│  [产奶与体液]  [哺乳]  [健康与风险]  [效率与界面]  [联动与扩展]                    │
├─────────────────────────────────────────────────────────────────────────────────┤
│  子 Tab 栏（随主 Tab 切换）：                                                     │
│  [产奶]  [奶标签]  [种族覆盖]  [精液/体液]                                        │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                  │
│  ┌───────────────────────────────────────────────────────────────────────────┐   │
│  │                    当前 (主 Tab, 子 Tab) 对应的内容区，可滚动                │   │
│  └───────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## 主 Tab 1：产奶与体液（子 Tab 示例）

当主 Tab 为「产奶与体液」时，子 Tab 栏显示：**产奶 | 奶标签 | 种族覆盖 | 精液/体液**。

```
┌─ 主 Tab ────────────────────────────────────────────────────────────────────────┐
│ [产奶与体液]  哺乳   健康与风险  效率与界面  联动与扩展                            │
└─────────────────────────────────────────────────────────────────────────────────┘
┌─ 子 Tab ────────────────────────────────────────────────────────────────────────┐
│ [产奶]  [奶标签]  [种族覆盖]  [精液/体液]                                        │
└─────────────────────────────────────────────────────────────────────────────────┘

（以下为「产奶」子 Tab 内容示例）

▼ 产奶
  指定每种种族产何种奶、是否可挤奶。
  ┌─────────────────────────────────────────────────────────────────────────┐
  │ 种族         │ 可挤奶 │ 奶类型    │ 奶量  │ [选择]                        │
  │ Human        │  ☑    │ 人类奶    │ 1.0   │                               │
  │ Rat          │  ☐    │ —         │ —     │                               │
  └─────────────────────────────────────────────────────────────────────────┘
```

切换到「奶标签」子 Tab 时，同一主 Tab 下只换内容区：

```
│ [产奶]  [奶标签]  [种族覆盖]  [精液/体液]   ← 当前选中：奶标签

▼ 奶物品标签
  奶制品在信息中是否显示种族/产奶者。
  ┌─────────────────────────────────────────────────────────────────────────┐
  │ 物品        │ 显示种族 │ 显示产奶者 │                                    │
  │ 人类奶      │   ☑     │    ☑      │                                    │
  └─────────────────────────────────────────────────────────────────────────┘
```

切换到「精液/体液」子 Tab：

```
│ [产奶]  [奶标签]  [种族覆盖]  [精液/体液]   ← 当前选中：精液/体液

▼ 精液与体液 (Cumpilation)
  与产奶共用产主与食用规则，此处调节膨胀/填充/泄精等行为。
  ┌─────────────────────────────────────────────────────────────────────────┐
  │ □ 启用膨胀  膨胀倍率: ────●────  □ 启用填充  □ 启用覆盖  ...              │
  │ □ 清洁时收集体液  □ 渐进食用想法  □ 振荡机制  ...                          │
  │ 泄精/Leaking: □ 生成污物  □ 自动泄精(桶)  最小泄精严重度: ──●──  ...       │
  └─────────────────────────────────────────────────────────────────────────┘
```

---

## 主 Tab 2：哺乳（子 Tab）

主 Tab 选「哺乳」时，子 Tab 栏变为：**总览 | 人形 | 动物 | 机械族**。

```
┌─ 主 Tab ────────────────────────────────────────────────────────────────────────┐
│ 产奶与体液  [哺乳]  健康与风险  效率与界面  联动与扩展                             │
└─────────────────────────────────────────────────────────────────────────────────┘
┌─ 子 Tab ────────────────────────────────────────────────────────────────────────┐
│ [总览]  [人形]  [动物]  [机械族]                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘

（子 Tab「总览」）
  谁可以喂谁、在下面按人形/动物/机械族分类型设置。
  营养→能量 (机械族哺乳): ────●──── 1.0
  哺乳时间 (tick): ────●──── 600

（子 Tab「人形」/「动物」/「机械族」）
  □ 允许哺乳  □ 可喂人  □ 可喂动物  □ 可喂机械  ...
```

---

## 主 Tab 3：健康与风险（子 Tab）

子 Tab 栏：**乳腺炎 | 卫生(DBH) | 耐受与溢出 | 从 Def 加载**。

```
│ 产奶与体液  哺乳  [健康与风险]  效率与界面  联动与扩展                            │
│ [乳腺炎]  [卫生(DBH)]  [耐受与溢出]  [从 Def 加载]                               │

（示例：子 Tab「乳腺炎」）
  □ 启用乳腺炎
  基准 MTB(天): ──●──  满池风险系数: ──●──  卫生风险系数: ──●──
  人形 MTB 乘数: ──●──  动物 MTB 乘数: ──●──
```

---

## 主 Tab 4：效率与界面（子 Tab）

子 Tab 栏：**泌乳效率 | 身份与菜单**。

```
│ 产奶与体液  哺乳  健康与风险  [效率与界面]  联动与扩展                            │
│ [泌乳效率]  [身份与菜单]                                                         │

（子 Tab「泌乳效率」）
  泌乳期意识/产奶效率倍率: ────●──── 1.0
  □ 启用意识/操纵/移动增益  增益上限(%): ──●──
  □ 成年雌性动物默认泌乳

（子 Tab「身份与菜单」）
  按身份默认：允许自我挤奶 / 可被喂奶
  ┌──────────┬─────────────┬─────────────┐
  │ 身份     │ 允许自我挤奶 │ 可被喂奶    │
  │ 殖民者   │     ☑       │     ☑      │  ...
  └──────────┴─────────────┴─────────────┘
  催乳素/泌乳菜单显示：□ 机械  □ 殖民者  □ 奴隶  ...
```

---

## 主 Tab 5：联动与扩展（子 Tab）

子 Tab 栏：**RJW | DBH | 基因与高级**。

```
│ 产奶与体液  哺乳  健康与风险  效率与界面  [联动与扩展]                            │
│ [RJW]  [DBH]  [基因与高级]                                                       │

（子 Tab「RJW」）需要 RJW 模组
  □ 胸部大小影响  □ 哺乳获得欲望  □ 性需求泌乳加成  ...

（子 Tab「DBH」）需要 Dubs Bad Hygiene 模组
  □ 乳腺炎使用 DBH 卫生需求

（子 Tab「基因与高级」）
  基因决定的奶类型覆盖（基因 → 奶类型 映射表）
  开发模式 (仅 DevMode)：选中小人时显示泌乳状态 L/双池/E/卫生风险等
```

---

## 小结

- **主 Tab 栏**：5 个一级分类（产奶与体液、哺乳、健康与风险、效率与界面、联动与扩展），减少单层 7 个 Tab 的拥挤感。
- **子 Tab 栏**：随主 Tab 切换显示 2～4 个子项，同一大类下的细项不用长卷动一页。
- 产奶与体液下「产奶 | 奶标签 | 种族覆盖 | 精液/体液」同属一层，精液/体液不再单独占主 Tab。
- 实现时：`mainTabIndex` + `subTabIndex` 决定 contentRect 调用哪个 Widget。
